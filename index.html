<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mojave UFO</title>
    <style>
      html, body { height: 100%; margin: 0; background: #000; }
      /* Keep a definite size to avoid zero-size WebGL targets */
      spline-viewer { display: block; width: 100vw; height: 100vh; background: #000; }
    </style>
    <!-- Import ONLY the Spline viewer (no standalone Three.js) -->
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.10.56/build/spline-viewer.js"></script>
  </head>
  <body>
    <spline-viewer
      id="sv"
      url="./scene.splinecode"
      loading-anim="true"
      events-target="local"
      aria-label="Spline scene"
    ></spline-viewer>

    <script type="module">
      // Handle context loss/restoration gracefully
      const sv = document.getElementById('sv')
      sv?.addEventListener('context-loss', () => {
        const u = sv.getAttribute('url')
        sv.setAttribute('url', '')
        requestAnimationFrame(() => sv.setAttribute('url', u))
      })
    </script>
  </body>
  </html>

